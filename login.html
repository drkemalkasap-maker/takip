<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Login</title>
<link rel="stylesheet" href="style.css">
</head>
<body>
<h1>Login</h1>
<input type="email" id="email" placeholder="Email">
<input type="password" id="password" placeholder="Password">
<button id="loginBtn">Login</button>

<script type="module">
import { auth, checkAuth } from './firebaseConfig.js';
import { signInWithEmailAndPassword } from "https://www.gstatic.com/firebasejs/12.1.0/firebase-auth.js";

const emailInput = document.getElementById("email");
const passwordInput = document.getElementById("password");
const loginBtn = document.getElementById("loginBtn");

// Eğer kullanıcı zaten login ise index.html'ye yönlendir
checkAuth(() => {
  window.location.href = "index.html";
});

// Login butonu
loginBtn.addEventListener("click", () => {
  const email = emailInput.value.trim();
  const password = passwordInput.value;

  if (!email || !password) return alert("Please enter email and password");

  signInWithEmailAndPassword(auth, email, password)
    .then(() => { window.location.href = "index.html"; })
    .catch(e => alert("Login Error: " + e.message));
});
</script>
</body>
</html>
